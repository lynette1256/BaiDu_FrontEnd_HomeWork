<!DOCTYPE html>
<html>
<head>
	<title>滚轮事件</title>
	<style type="text/css">
		#box1{
			width: 100px;
			height: 100px;
			background-color: red;
		}
	</style>
	<script type="text/javascript">
		window.onload = function() {
			/*
			* 当鼠标滚轮向下滚动，box1变长
			* 当鼠标滚轮向上滚动，box1变短
			*/
			var box1 = document.getElementById("box1");
			// 为box1绑定一个鼠标滚动事件
			// onmousewheel 鼠标滚轮滚动事件，会在滚轮滚动时触发
			// 但是火狐不支持该属性，在火狐中需要使用DOMMouseScroll来绑定事件
			box1.onmousewheel = function() {
				//判断鼠标滚动的方向
				event = event || window.event;
				//console.log(event.wheelDelta);
				// event.wheelDelta 可以获取鼠标滚轮的方向
				// 向上滚120，向下滚-120
				// wheelDelta 这个值我们不看大小，只看正负
				
				// if(event.wheelDelta > 0){
				// 	alert("向上滚");
				// }else{
				// 	alert("向下滚");
				// }

				// 在火狐中，使用event.detail来获取滚动的方向
				// 向上滚 -3 向下滚 +3
				if(event.wheelDelta > 0 || event.detail < 0){
					box1.style.height = box1.clientHeight - 10 + "px";
					// return false;
				}else{
					box1.style.height = box1.clientHeight + 10 + "px";
					// return false;
				}
				/*
				* 使用addEventListener() 方法绑定响应函数，取消默认行为时不能使用return false
				需要使用event
				*/
				event.preventDefault && event.preventDefault();

				return false;
			};
			// 为火狐绑定滚动事件
			bind(box1, "DOMMouseScroll",box1.onmousewheel);
		};

		function bind(obj, eventStr, callback){
			if(obj.addEventListener){
				// 大部分浏览器兼容的方式
				obj.addEventListener(eventStr, callback, false);
			}else{  
				// this是谁由调用方式决定
				// callback.call(obj)
				// IE8及以下
				obj.attachEvent("on" + eventStr, function(){
				// 在匿名函数中调用回调函数
					callback.call(obj);
				});
			}
		}
	</script>
</head>
<body>
	<div id="box1"></div>
</body>
</html>