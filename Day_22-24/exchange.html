<!DOCTYPE html>
<html>
<head>
	<title>不同的数据结构转换</title>
</head>
<body>
	<h3>通用数据结构</h3>
	<h3>相互转换</h3>
	<h3>查看控制台</h3>
	<script type="text/javascript">
		var scoreObject = {
		    "Tony": {
		        "Math": 95,
		        "English": 79,
		        "Music": 68
		    }, 
		    "Simon": {
		        "Math": 100,
		        "English": 95,
		        "Music": 98
		    }, 
		    "Annie": {
		        "Math": 54,
		        "English": 65,
		        "Music": 88
		    }
		}

		function objectToArray(object) {
			let arr = [];
			for (let prop in object) {
				let arrTemp = []
				arrTemp.push(prop);
				for (let temp in object[prop]) {
					arrTemp.push(object[prop][temp]);
				}
				arr.push(arrTemp);
			}
			return arr;
		}
		console.log(objectToArray(scoreObject));

		var menuArr = [
		    [1, "Area1", -1],
		    [2, "Area2", -1],
		    [3, "Area1-1", 1],
		    [4, "Area1-2", 1],
		    [5, "Area2-1", 2],
		    [6, "Area2-2", 2],
		    [7, "Area1-2-3", 4],
		    [8, "Area2-2-1", 6],
		];
/*
		function arrayToObject(array) {
			var menuObject = {};
			array.forEach((current, index) => {
				if (current[2] == -1) {
					menuObject[current[0]] = {
						"name": current[1],
						"subMenu": {}
					}
				}
				if (current[2] == 1) {
					menuObject["1"]["subMenu"][current[0]] = {
						"name": current[1],
						"subMenu": {}
					}
				}
				if (current[2] == 2) {
					menuObject["1"]["subMenu"][current[0]] = {
						"name": current[1],
						"subMenu": {}
					}
				}
				if (current[2] == 4) {
					menuObject["2"]["subMenu"]["6"]["subMenu"][current[0]] = {
						"name": current[1],
						"subMenu": {}
					}
				}
				if (current[2] == 6) {
					menuObject["2"]["subMenu"]["6"]["subMenu"][current[0]] = {
						"name": current[1],
						"subMenu": {}
					}
				}

			})
			return menuObject;
		}
		console.log(arrayToObject(menuArr));
*/
	 	let obj = {};
     	function arrToObj(menuArr) {
            for (i in menuArr) {
                if (menuArr[i][2] === -1) {
                    obj[menuArr[i][0]] = {
                        name: menuArr[i][1],
                        subMenu: {}
                    }
                } else if (menuArr[i][2] === 1) {
                    obj["1"]["subMenu"][menuArr[i][0]] = {
                        name: menuArr[i][1]
                    }
                } else if (menuArr[i][2] === 2) {
                    obj["2"]["subMenu"][menuArr[i][0]] = {
                        name: menuArr[i][1]
                    }
                } else if (menuArr[i][2] === 4) {
                    obj["1"]["subMenu"]["4"]["subMenu"] = {};
                    obj["1"]["subMenu"]["4"]["subMenu"][menuArr[i][0]] = {
                        name: menuArr[i][1]
                    }
                } else if (menuArr[i][2] === 6) {
                    obj["2"]["subMenu"]["6"]["subMenu"] = {};
                    obj["2"]["subMenu"]["6"]["subMenu"][menuArr[i][0]] = {
                        name: menuArr[i][1]
                    }
                }
            }
            //console.log(obj);
            return obj;
        }

        console.log(arrToObj(menuArr));

	</script>
</body>
</html>